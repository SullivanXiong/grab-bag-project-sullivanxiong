(this["webpackJsonpgrab-bag-project-sullivanxiong"]=this["webpackJsonpgrab-bag-project-sullivanxiong"]||[]).push([[0],{17:function(e,t,i){"use strict";i.r(t);var r=i(0),n=i(1),a=i.n(n),c=i(8),o=i.n(c),s=i(2),d=i(6);function l(e){var t=e.gbitem,i=e.gbitems,n=e.setGearBag;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{id:"gearBagItem",draggable:"true",onDragStart:function(e){e.dataTransfer.setData("deviceUuid",t.id),console.log("dragStart")},onDragOver:function(e){e.stopPropagation()},children:[Object(r.jsx)("img",{src:t.image.standard,id:"itemPhotoGear",alt:"standard"}),Object(r.jsx)("img",{src:"".concat(window.location.origin,"/redX.png"),id:"redXLogo",alt:"X",onClick:function(){var e=Object(s.a)(i);e=e.filter((function(e){return e.id!==t.id})),n(e)}}),Object(r.jsx)("div",{id:"itemTitle",className:t.wiki_title,children:t.wiki_title})]})})}function g(e){var t=e.gbitems,i=e.setGearBag;return t.map((function(e){return Object(r.jsx)(l,{gbitem:e,gbitems:t,setGearBag:i},e.id)}))}function u(e){var t=e.deviceitem;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{id:"devicesItem",draggable:"true",onDragStart:function(e){e.dataTransfer.setData("deviceTitle",t.wiki_title),console.log("dragStart")},onDragOver:function(e){e.stopPropagation()},children:[Object(r.jsx)("img",{src:t.image.standard,id:"itemPhoto",alt:"standard"}),Object(r.jsx)("div",{id:"itemTitle",className:t.wiki_title,children:t.wiki_title})]})})}function j(e){var t=e.deviceitems,i=e.deviceDropDelete,n=e.dragOver;return t.map((function(e){return Object(r.jsx)(u,{onDrop:i,onDragOver:n,deviceitem:e},e.image.id)}))}var b=i(9),f=i.n(b),v=i(5),O=i.n(v),m="grabBag",h="devices";var p=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),i=t[0],a=t[1],c=Object(n.useState)([]),o=Object(d.a)(c,2),l=o[0],u=o[1],b=Object(n.useState)([0]),v=Object(d.a)(b,2),p=v[0],x=v[1],D=[],w=Object(n.useRef)(),y=Object(n.useRef)(),S=Object(n.useRef)(),k=Object(n.useRef)();function B(e){for(var t=[],i=JSON.parse(localStorage.getItem(h)),r=0;r<14;r++){var n=r+14*e;console.log(n),console.log(i[n]),O.a.get("https://www.ifixit.com/api/2.0/categories/".concat(i[n]),(function(e){return t=[].concat(Object(s.a)(t),[e])})).then((function(){u(t)}))}}function N(){var e=Math.floor(i.length/7);k.current.style="height: ".concat(26*(e+1)+3,"vh;"),S.current.style="height: ".concat(23*(e+1),"vh;")}function T(e){var t=Object(s.a)(i);O.a.get("https://www.ifixit.com/api/2.0/categories/".concat(e),(function(e){e.id=f()(),t=[].concat(Object(s.a)(t),[e])})).then((function(){a(t)})),N()}function G(e){e.preventDefault()}function I(e){e.preventDefault();var t=e.dataTransfer.getData("deviceUuid"),r=Object(s.a)(i);r=r.filter((function(e){return e.id!==t})),a(r)}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(m));e&&a(e),y.current.style="display: None;",O.a.get("https://www.ifixit.com/api/2.0/categories",(function(e){function t(e,i){var r=[];if(Object.keys(i).length>0){for(var n in i)r=r.concat(t(n,i[n]));return r}return[e]}for(var i in e)D=D.concat(t(i,e[i]))})).then((function(){localStorage.setItem(h,JSON.stringify(D)),B(p[0])}))}),[]),Object(n.useEffect)((function(){localStorage.setItem(m,JSON.stringify(i)),N()}),[i]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{ref:k,id:"gearBagFrame",onDrop:function(e){e.preventDefault(),T(e.dataTransfer.getData("deviceTitle")),console.log("Drop")},onDragOver:G,children:[Object(r.jsx)("h2",{id:"title",children:"My Gear Bag"}),Object(r.jsx)("div",{id:"gearBag",ref:S,children:Object(r.jsx)(g,{gbitems:i,toggleGearBag:T,setGearBag:a})})]}),Object(r.jsxs)("div",{id:"devicesFrame",onDrop:I,onDragOver:G,children:[Object(r.jsx)("h2",{id:"title",children:"Devices"}),Object(r.jsx)("div",{id:"devices",onDrop:I,onDragOver:G,children:Object(r.jsx)(j,{deviceitems:l,deviceDelete:I,dragOver:G})}),Object(r.jsx)("button",{ref:y,id:"prevButton",onClick:function(){var e=Object(s.a)(p);e[0]=e[0]-1,x(e),0===e[0]?y.current.style="display: None;":y.current.style="display: block;",B(e[0])},children:"PREV"}),Object(r.jsx)("button",{ref:w,id:"nextButton",onClick:function(){var e=Object(s.a)(p);e[0]=e[0]+1,x(e),0===e[0]?y.current.style="display: None;":y.current.style="display: block;",B(e[0])},children:"NEXT"})]})]})};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(p,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.1164e394.chunk.js.map