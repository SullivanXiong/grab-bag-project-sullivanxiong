{"version":3,"sources":["GearBagItem.js","GearBagList.js","DevicesItem.js","DevicesList.js","App.js","index.js"],"names":["GearBagItem","gbitem","gbitems","setGearBag","id","draggable","onDragStart","element","dataTransfer","setData","console","log","onDragOver","stopPropagation","src","image","standard","alt","window","location","origin","onClick","copygbitems","filter","device","className","wiki_title","GearBagList","map","DevicesItem","deviceitem","DevicesList","deviceitems","deviceDropDelete","dragOver","onDrop","LOCAL_STORAGE_KEY_GRAB_BAG","LOCAL_STORAGE_KEY_DEVICES","App","useState","gearBag","devices","setDevices","pageNumber","setPageNumber","deviceTitles","nextRef","useRef","prevRef","gearBagRef","gearBagFrameRef","toggleDevice","pageNum","newDevices","JSON","parse","localStorage","getItem","i","idxFromPage","$","get","data","then","resizeGearBag","rows","Math","floor","length","current","style","toggleGearBag","title","newGearBag","uuidv4","preventDefault","deviceDelete","deviceUuid","getData","copyGearBag","useEffect","storedGearBag","recurAPICall","key","value","ret","Object","keys","valueKey","concat","setItem","stringify","ref","copyPageNumber","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98253a79.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function GearBagItem({ gbitem, gbitems, setGearBag}) {\n    function deviceDelete() {\n        let copygbitems = [...gbitems];\n        copygbitems = copygbitems.filter(device => device.id !== gbitem.id);\n        setGearBag(copygbitems)\n    }\n\n    function dragStart(element) {\n        element.dataTransfer.setData('deviceUuid', gbitem.id);\n        console.log('dragStart');\n    }\n\n    function dragOver(element) {\n        element.stopPropagation();\n    }\n\n    return (\n        <>\n            <div id=\"gearBagItem\" draggable=\"true\" onDragStart={dragStart} onDragOver={dragOver}>\n                <img src={gbitem.image.standard} id=\"itemPhotoGear\" alt=\"standard\"/>\n                <img src={`${window.location.origin}/redX.png`} id=\"redXLogo\" alt='X' onClick={deviceDelete}/>\n                <div id=\"itemTitle\" className={gbitem.wiki_title}>{gbitem.wiki_title}</div>\n            </div>\n        </>\n    )\n}\n","import React from 'react'\nimport GearBagItem from './GearBagItem'\n\nexport default function GearBagList({ gbitems, setGearBag }) {\n    return (\n        gbitems.map(gbitem => {\n            return <GearBagItem key={gbitem.id} gbitem={gbitem} gbitems={gbitems} setGearBag={setGearBag} />  \n        })\n    )\n}\n","import React from 'react'\n\nexport default function DevicesItem({ deviceitem }) {\n    function dragStart(element) {\n        element.dataTransfer.setData('deviceTitle', deviceitem.wiki_title);\n        console.log('dragStart');\n    }\n\n    function dragOver(element) {\n        element.stopPropagation();\n    }\n\n    return (\n        <>\n            <div id=\"devicesItem\" draggable=\"true\" onDragStart={dragStart} onDragOver={dragOver}>\n                <img src={deviceitem.image.standard} id=\"itemPhoto\" alt=\"standard\"/>\n                <div id=\"itemTitle\" className={deviceitem.wiki_title}>{deviceitem.wiki_title}</div>\n            </div>\n        </>\n    )\n}\n","import React from 'react'\nimport DevicesItem from './DevicesItem'\n\nexport default function DevicesList({ deviceitems, deviceDropDelete, dragOver } ) {\n    return (\n        deviceitems.map(deviceitem => {\n            return <DevicesItem key={deviceitem.image.id} onDrop={deviceDropDelete} onDragOver={dragOver} deviceitem={deviceitem} />  \n        })\n    )\n}\n","import React, { useState, useRef, useEffect } from 'react';\nimport GearBagList from './GearBagList'\nimport DevicesList from './DevicesList'\nimport uuidv4 from 'uuid/v4';\nimport $ from 'jquery'\n\nconst LOCAL_STORAGE_KEY_GRAB_BAG = 'grabBag';\nconst LOCAL_STORAGE_KEY_DEVICES = 'devices';\n\nfunction App() {\n    const [gearBag, setGearBag] = useState([]);\n    const [devices, setDevices] = useState([]);\n    const [pageNumber, setPageNumber] = useState([0]);\n    var deviceTitles = []\n\n    const nextRef = useRef();\n    const prevRef = useRef();\n    const gearBagRef = useRef();\n    const gearBagFrameRef = useRef();\n\n    // Load our Gear bag devices from local storage\n    useEffect(() => {\n        const storedGearBag = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_GRAB_BAG));\n        if (storedGearBag) {\n            setGearBag(storedGearBag);\n        }\n\n        prevRef.current.style = \"display: None;\";\n\n        $.get('https://www.ifixit.com/api/2.0/categories', (data) => {\n            function recurAPICall(key, value) {\n                let ret = [];\n                let lengthOfValue = Object.keys(value).length;\n\n                if (lengthOfValue > 0) {\n                    for (const valueKey in value)\n                        ret = ret.concat(recurAPICall(valueKey, value[valueKey]));\n                    return ret\n                }\n                else \n                    return [key]\n            }\n\n            for (const key in data)\n                deviceTitles = deviceTitles.concat(recurAPICall(key, data[key]));\n        }).then(() => {\n            localStorage.setItem(LOCAL_STORAGE_KEY_DEVICES, JSON.stringify(deviceTitles));\n            toggleDevice(pageNumber[0]);\n        });\n    }, []);\n\n    // Store our Gear bag devices to local storage\n    useEffect(() => {\n        localStorage.setItem(LOCAL_STORAGE_KEY_GRAB_BAG, JSON.stringify(gearBag));\n        resizeGearBag();\n    }, [gearBag]);\n\n    function prevPage() {\n        const copyPageNumber = [...pageNumber];\n        copyPageNumber[0] = copyPageNumber[0] - 1\n        setPageNumber(copyPageNumber);\n        if (copyPageNumber[0] === 0)\n            prevRef.current.style = \"display: None;\";\n        else\n            prevRef.current.style = \"display: block;\";\n        toggleDevice(copyPageNumber[0]);\n    }\n\n    function nextPage() {\n        const copyPageNumber = [...pageNumber];\n        copyPageNumber[0] = copyPageNumber[0] + 1\n        setPageNumber(copyPageNumber);\n        if (copyPageNumber[0] === 0)\n            prevRef.current.style = \"display: None;\";\n        else\n            prevRef.current.style = \"display: block;\";\n        toggleDevice(copyPageNumber[0]);\n    }\n\n    function toggleDevice(pageNum) {\n        let newDevices = []\n        let deviceTitles = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_DEVICES));\n        for (let i = 0; i < 14; i++) {\n            let idxFromPage = i + (14 * pageNum);\n            console.log(idxFromPage);\n            console.log(deviceTitles[idxFromPage]);\n            $.get(`https://www.ifixit.com/api/2.0/categories/${deviceTitles[idxFromPage]}`, (data) => newDevices = [...newDevices, data])\n                .then(() => {\n                    setDevices(newDevices);\n                })\n        }\n    }\n\n    function resizeGearBag() {\n        let rows = Math.floor(gearBag.length / 8)\n        gearBagFrameRef.current.style = `height: ${((rows + 1) * 26) + 3}vh;`\n        gearBagRef.current.style = `height: ${(rows + 1) * 23}vh;`\n    }\n\n    function toggleGearBag(title) {\n        let newGearBag = [...gearBag]\n        \n        $.get(`https://www.ifixit.com/api/2.0/categories/${title}`, (data) => {\n            data.id = uuidv4();\n            newGearBag = [...newGearBag, data];\n        })\n            .then(() => {\n                setGearBag(newGearBag);\n            });\n        resizeGearBag();\n    }\n\n    function drop(element) {\n        element.preventDefault();\n        const device_title = element.dataTransfer.getData('deviceTitle');\n\n        toggleGearBag(device_title);\n        console.log('Drop');\n    }\n\n    function dragOver(element) {\n        element.preventDefault();\n    }\n\n    function deviceDelete(element) {\n        element.preventDefault();\n        const deviceUuid = element.dataTransfer.getData('deviceUuid');\n        \n        let copyGearBag = [...gearBag]\n        copyGearBag = copyGearBag.filter(device => device.id !== deviceUuid);\n        setGearBag(copyGearBag)\n    }\n\n\n    return (\n        <>\n            <div ref={gearBagFrameRef} id=\"gearBagFrame\" onDrop={drop} onDragOver={dragOver}>\n                <h2 id=\"title\">My Gear Bag</h2>\n                <div id=\"gearBag\" ref={gearBagRef}>\n                    <GearBagList gbitems={gearBag} toggleGearBag={toggleGearBag} setGearBag={setGearBag}/>\n                </div>\n            </div>\n            <div id=\"devicesFrame\" onDrop={deviceDelete} onDragOver={dragOver}>\n                <h2 id=\"title\">Devices</h2>\n                <div id=\"devices\" onDrop={deviceDelete} onDragOver={dragOver}>\n                    <DevicesList  deviceitems={devices} deviceDelete={deviceDelete} dragOver={dragOver}/>\n                </div>\n                <button ref={prevRef} id=\"prevButton\" onClick={prevPage}>PREV</button>\n                <button ref={nextRef} id=\"nextButton\" onClick={nextPage}>NEXT</button>\n            </div>\n        </>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}