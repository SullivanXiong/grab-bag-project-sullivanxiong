(this["webpackJsonpgrab-bag-project-sullivanxiong"]=this["webpackJsonpgrab-bag-project-sullivanxiong"]||[]).push([[0],{14:function(e,t,i){"use strict";i.r(t);var c=i(0),n=i(1),r=i.n(n),a=i(8),o=i.n(a),s=i(2),l=i(6);function d(e){var t=e.gbitem;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{id:"gearBagItem",children:[Object(c.jsx)("img",{src:t.image.standard,id:"itemPhoto",alt:"standard"}),Object(c.jsx)("div",{id:"itemTitle",className:t.wiki_title,children:t.wiki_title})]})})}function j(e){return e.gbitems.map((function(e){return Object(c.jsx)(d,{gbitem:e},e.id)}))}function u(e){var t=e.deviceitem;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{id:"devicesItem",draggable:"true",onDragStart:function(e){e.dataTransfer.setData("deviceTitle",t.wiki_title),console.log("dragStart")},onDragOver:function(e){e.stopPropagation()},children:[Object(c.jsx)("img",{src:t.image.standard,id:"itemPhoto",alt:"standard"}),Object(c.jsx)("div",{id:"itemTitle",className:t.wiki_title,children:t.wiki_title})]})})}function g(e){return e.deviceitems.map((function(e){return Object(c.jsx)(u,{deviceitem:e},e.image.id)}))}var b=i(5),f=i.n(b),O="grabBagApp",v="devices";var h=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),i=t[0],r=t[1],a=Object(n.useState)([]),o=Object(l.a)(a,2),d=o[0],u=o[1],b=Object(n.useState)([0]),h=Object(l.a)(b,2),m=h[0],p=h[1],x=[],y=Object(n.useRef)(),w=Object(n.useRef)(),S=Object(n.useRef)(),k=Object(n.useRef)();function D(e){for(var t=[],i=JSON.parse(localStorage.getItem(v)),c=0;c<14;c++){var n=c+14*e;console.log(n),console.log(i[n]),f.a.get("https://www.ifixit.com/api/2.0/categories/".concat(i[n]),(function(e){return t=[].concat(Object(s.a)(t),[e])})).then((function(){u(t)}))}}function N(){var e=Math.floor(i.length/7);k.current.style="height: ".concat(26*(e+1)+3,"vh;"),S.current.style="height: ".concat(23*(e+1),"vh;")}function B(e){var t=Object(s.a)(i);f.a.get("https://www.ifixit.com/api/2.0/categories/".concat(e),(function(e){return t=[].concat(Object(s.a)(t),[e])})).then((function(){r(t)})),N()}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(O));e&&r(e),w.current.style="display: None;",f.a.get("https://www.ifixit.com/api/2.0/categories",(function(e){function t(e,i){var c=[];if(Object.keys(i).length>0){for(var n in i)c=c.concat(t(n,i[n]));return c}return[e]}for(var i in e)x=x.concat(t(i,e[i]))})).then((function(){localStorage.setItem(v,JSON.stringify(x)),D(m[0])}))}),[]),Object(n.useEffect)((function(){localStorage.setItem(O,JSON.stringify(i)),N()}),[i]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{ref:k,id:"gearBagFrame",onDrop:function(e){e.preventDefault(),B(e.dataTransfer.getData("deviceTitle")),console.log("Drop")},onDragOver:function(e){e.preventDefault()},children:[Object(c.jsx)("h2",{id:"title",children:"My Gear Bag"}),Object(c.jsx)("div",{id:"gearBag",ref:S,children:Object(c.jsx)(j,{gbitems:i,toggleGearBag:B})})]}),Object(c.jsxs)("div",{id:"devicesFrame",children:[Object(c.jsx)("h2",{id:"title",children:"Devices"}),Object(c.jsx)("div",{id:"devices",children:Object(c.jsx)(g,{deviceitems:d})}),Object(c.jsx)("button",{ref:w,id:"prevButton",onClick:function(){var e=Object(s.a)(m);e[0]=e[0]-1,p(e),0===e[0]?w.current.style="display: None;":w.current.style="display: block;",D(e[0])},children:"PREV"}),Object(c.jsx)("button",{ref:y,id:"nextButton",onClick:function(){var e=Object(s.a)(m);e[0]=e[0]+1,p(e),0===e[0]?w.current.style="display: None;":w.current.style="display: block;",D(e[0])},children:"NEXT"})]})]})};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.fd1dcc45.chunk.js.map